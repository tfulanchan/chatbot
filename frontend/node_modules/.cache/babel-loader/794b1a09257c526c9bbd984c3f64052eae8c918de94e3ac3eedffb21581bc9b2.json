{"ast":null,"code":"var _jsxFileName = \"C:\\\\Tools\\\\elasticsearch-8.12.1-windows-x86_64\\\\elasticsearch-labs\\\\example-apps\\\\chatbot-rag-app\\\\frontend\\\\src\\\\components\\\\chat\\\\chat.tsx\";\nimport { cn } from 'lib/utils';\nimport { AppStatus } from 'store/provider';\nimport ChatInput from 'components/chat/input';\nimport { AnswerMessage } from 'components/chat/answer_message';\nimport { ChatMessageList } from 'components/chat/message_list';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Chat = _ref => {\n  let {\n    status,\n    messages,\n    summary,\n    onSend,\n    onAbortRequest,\n    onSourceClick\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rounded-md shadow bg-white mt-6 p-6 border border-light-fog mb-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(AnswerMessage, {\n        text: summary === null || summary === void 0 ? void 0 : summary.content,\n        sources: (summary === null || summary === void 0 ? void 0 : summary.sources) || [],\n        onSourceClick: onSourceClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: cn('border-t border-fog', {\n        'border-0': messages.length === 0\n      }),\n      children: [!!messages.length && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ChatMessageList, {\n          messages: messages,\n          isMessageLoading: status === AppStatus.StreamingMessage,\n          onSourceClick: onSourceClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border-t border-fog mb-6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(ChatInput, {\n        isMessageLoading: status === AppStatus.StreamingMessage,\n        onSubmit: onSend,\n        onAbortRequest: onAbortRequest\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 3\n  }, this);\n};\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["cn","AppStatus","ChatInput","AnswerMessage","ChatMessageList","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","_ref","status","messages","summary","onSend","onAbortRequest","onSourceClick","className","children","text","content","sources","fileName","_jsxFileName","lineNumber","columnNumber","length","isMessageLoading","StreamingMessage","onSubmit","_c","$RefreshReg$"],"sources":["C:/Tools/elasticsearch-8.12.1-windows-x86_64/elasticsearch-labs/example-apps/chatbot-rag-app/frontend/src/components/chat/chat.tsx"],"sourcesContent":["import { cn } from 'lib/utils'\r\nimport { AppStatus } from 'store/provider'\r\nimport ChatInput from 'components/chat/input'\r\nimport { AnswerMessage } from 'components/chat/answer_message'\r\nimport { ChatMessageList } from 'components/chat/message_list'\r\nimport { ChatMessageType } from 'types'\r\n\r\ninterface ChatProps {\r\n  status: AppStatus\r\n  messages: ChatMessageType[]\r\n  summary: ChatMessageType\r\n  onSend: (message: string) => void\r\n  onAbortRequest: () => void\r\n  onSourceClick: (sourceName: string) => void\r\n}\r\n\r\nexport const Chat: React.FC<ChatProps> = ({\r\n  status,\r\n  messages,\r\n  summary,\r\n  onSend,\r\n  onAbortRequest,\r\n  onSourceClick,\r\n}) => (\r\n  <div className=\"rounded-md shadow bg-white mt-6 p-6 border border-light-fog mb-8\">\r\n    <div className=\"mb-4\">\r\n      <AnswerMessage\r\n        text={summary?.content}\r\n        sources={summary?.sources || []}\r\n        onSourceClick={onSourceClick}\r\n      />\r\n    </div>\r\n\r\n    <div\r\n      className={cn('border-t border-fog', {\r\n        'border-0': messages.length === 0,\r\n      })}\r\n    >\r\n      {!!messages.length && (\r\n        <>\r\n          <ChatMessageList\r\n            messages={messages}\r\n            isMessageLoading={status === AppStatus.StreamingMessage}\r\n            onSourceClick={onSourceClick}\r\n          />\r\n          <div className=\"border-t border-fog mb-6\" />\r\n        </>\r\n      )}\r\n\r\n      <ChatInput\r\n        isMessageLoading={status === AppStatus.StreamingMessage}\r\n        onSubmit={onSend}\r\n        onAbortRequest={onAbortRequest}\r\n      />\r\n    </div>\r\n  </div>\r\n)\r\n"],"mappings":";AAAA,SAASA,EAAE,QAAQ,WAAW;AAC9B,SAASC,SAAS,QAAQ,gBAAgB;AAC1C,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,SAASC,aAAa,QAAQ,gCAAgC;AAC9D,SAASC,eAAe,QAAQ,8BAA8B;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAY9D,OAAO,MAAMC,IAAyB,GAAGC,IAAA;EAAA,IAAC;IACxCC,MAAM;IACNC,QAAQ;IACRC,OAAO;IACPC,MAAM;IACNC,cAAc;IACdC;EACF,CAAC,GAAAN,IAAA;EAAA,oBACCJ,OAAA;IAAKW,SAAS,EAAC,kEAAkE;IAAAC,QAAA,gBAC/EZ,OAAA;MAAKW,SAAS,EAAC,MAAM;MAAAC,QAAA,eACnBZ,OAAA,CAACH,aAAa;QACZgB,IAAI,EAAEN,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEO,OAAQ;QACvBC,OAAO,EAAE,CAAAR,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEQ,OAAO,KAAI,EAAG;QAChCL,aAAa,EAAEA;MAAc;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENnB,OAAA;MACEW,SAAS,EAAEjB,EAAE,CAAC,qBAAqB,EAAE;QACnC,UAAU,EAAEY,QAAQ,CAACc,MAAM,KAAK;MAClC,CAAC,CAAE;MAAAR,QAAA,GAEF,CAAC,CAACN,QAAQ,CAACc,MAAM,iBAChBpB,OAAA,CAAAE,SAAA;QAAAU,QAAA,gBACEZ,OAAA,CAACF,eAAe;UACdQ,QAAQ,EAAEA,QAAS;UACnBe,gBAAgB,EAAEhB,MAAM,KAAKV,SAAS,CAAC2B,gBAAiB;UACxDZ,aAAa,EAAEA;QAAc;UAAAM,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9B,CAAC,eACFnB,OAAA;UAAKW,SAAS,EAAC;QAA0B;UAAAK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA,eAC5C,CACH,eAEDnB,OAAA,CAACJ,SAAS;QACRyB,gBAAgB,EAAEhB,MAAM,KAAKV,SAAS,CAAC2B,gBAAiB;QACxDC,QAAQ,EAAEf,MAAO;QACjBC,cAAc,EAAEA;MAAe;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAAA,CACP;AAAAK,EAAA,GAxCYrB,IAAyB;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}